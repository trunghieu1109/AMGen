[
    {
        "example_id": 11,
        "problem": "Consider the paths of length $16$ that follow the lines from the lower left corner to the upper right corner on an $8\\times 8$ grid. Find the number of such paths that change direction exactly four times, as in the examples shown below.\n[asy] size(10cm); usepackage(\"tikz\");label(\"\begin{tikzpicture}[scale=.5]\\draw(0,0)grid(8,8);\\draw[line width=2,red](0,0)--(2,0)--(2,3)--(5,3)--(5,8)--(8,8);\\end{tikzpicture}\",origin); label(\"\\begin{tikzpicture}[scale=.5]\\draw(0,0)grid(8,8);\\draw[line width=2,red](0,0)--(0,3)--(3,3)--(3,5)--(8,5)--(8,8);\\end{tikzpicture}\",E); [/asy]",
        "correct_answer": "294",
        "n": "Baseline sc_cot",
        "response": "To solve this problem, we need to find paths on an 8x8 grid from the lower left corner to the upper right corner that change direction exactly four times. Each path consists of 16 steps, 8 right (R) and 8 up (U) moves. A change in direction occurs when the path switches between R and U or vice versa. For exactly four changes in direction, we can have sequences like RRR...UUU...RRR...UUU, where each segment is uninterrupted by the other direction. Since there are four changes, there will be five segments. One possible configuration for the segments is 2R, 3U, 2R, 3U, 8R. We need to find all such configurations and calculate the number of paths for each configuration.\n\nConsider the case with segments of lengths a, b, c, d, e such that a + c + e = 8 and b + d = 8, with a, c, e > 0 and b, d > 0. For each configuration, the number of ways to arrange the segments is given by the multinomial coefficient.\n\nOne possible set of segment lengths is (a, b, c, d, e) = (1, 3, 1, 3, 6), which corresponds to the path RUUURUUURRRRRRR. The number of such paths is given by the multinomial coefficient (16 choose 1, 3, 1, 3, 6).\n\nCalculating the number of configurations and their corresponding paths, we sum them up to get the total number of paths with exactly four changes in direction.\n\nAnswer:4900",
        "sub_tasks_text": null
    }
]